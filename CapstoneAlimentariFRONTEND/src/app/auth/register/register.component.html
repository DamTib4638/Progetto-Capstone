<div class="container">
    <h1 class="text-center">Nuovo Dipendente</h1>
    <form #newDipendente="ngForm" (ngSubmit)="newDipendente.valid && insert(newDipendente)">

        <!-- Nome (obbligatorio min 2 max 50) e Cognome (obbligatorio min 2 max 50) -->
        <div class="row py-3 border border-top-0 border-start-0 border-end-0">
            <div class="col-sm-6">
                <label class="form-label" for="nome">Nome Dipendente *</label>
                <input id="nome" name="nome" type="text" class="form-control text-center" ngModel #nome="ngModel" required minlength="2" maxlength="50">
                <span class="text-info bg-transparent" *ngIf="nome.invalid && (nome.dirty || nome.touched)">
                    Nome Dipendente è OBBLIGATORIO e deve avere minimo 2 e massimo 50 caratteri
                </span>
            </div>
            <div class="col-sm-6">
                <label class="form-label" for="cognome">Cognome Dipendente *</label>
                <input id="cognome" name="cognome" type="text" class="form-control text-center" ngModel #cognome="ngModel" required minlength="2" maxlength="50">
                <span class="text-info bg-transparent" *ngIf="cognome.invalid && (cognome.dirty || cognome.touched)">
                    Cognome Dipendente è OBBLIGATORIO e deve avere minimo 2 e massimo 50 caratteri
                </span>
            </div>
        </div>

        <!-- Età e Codice Fiscale Dipendente (obbligatori, età con valore tra 18 e 64, cod fis di lunghezza esattamente 16) -->
        <div class="row py-3 border border-top-0 border-start-0 border-end-0">
            <div class="col-sm-4">
                <label class="form-label" for="eta">Età Dipendente *</label>
                <input type="number" name="eta" id="eta" class="form-control text-center" ngModel #eta="ngModel" required min="18" max="64">
                <span class="text-info bg-transparent" *ngIf="eta.invalid && (eta.dirty || eta.touched)">
                    Età Dipendente è OBBLIGATORIA e deve essere compresa tra 18 e 64 anni, estremi inclusi.
                </span>
            </div>
            <div class="col-sm-4">
                <label class="form-label" for="codFis">Codice Fiscale Dipendente *</label>
                <input type="text" name="codFis" id="codFis" class="form-control text-center" ngModel #codFis="ngModel" required minlength="11" maxlength="11">
                <span class="text-info bg-transparent" *ngIf="codFis.invalid && (codFis.dirty || codFis.touched)">
                    Codice Fiscale Dipendente è OBBLIGATORIO e deve essere di 11 caratteri.
                </span>
            </div>
            <div class="col-sm-4">
                <label class="form-label" for="telefono">Telefono</label>
                <input id="telefono" name="telefono" type="tel" pattern="[+]{1}[0-9]{2}[0-9]{3}[0-9]{3}[0-9]{4}" class="form-control text-center" ngModel #telefono="ngModel">
                <span class="text-info bg-transparent" *ngIf="telefono.invalid && (telefono.dirty || telefono.touched)">
                    Telefono Dipendente, se inserito, deve rispettare il seguente pattern (Es. +XX XXX XX XX XXX)
                </span>
            </div>
        </div>

        <div class="row py-3 border border-top-0 border-start-0 border-end-0">
            <div class="col-sm-6">
                <label class="form-label" for="indirizzo">Indirizzo Dipendente</label>
                <input type="text" name="indirizzo" id="indirizzo" class="form-control text-center" ngModel #indirizzo="ngModel">
                <!-- <span class="text-info bg-transparent" *ngIf="indirizzo.invalid && (indirizzo.dirty || indirizzo.touched)">
                    Indirizzo Dipendente è OBBLIGATORIO e deve avere almeno 2 caratteri
                </span> -->
            </div>
            <div class="col-sm-6">
                <label class="form-label" for="citta">Città Dipendente</label>
                <input type="text" name="citta" id="citta" class="form-control text-center" ngModel #citta="ngModel">
                <!-- <span class="text-info bg-transparent" *ngIf="citta.invalid && (citta.dirty || citta.touched)">
                    Città Dipendente è OBBLIGATORIA e deve avere almeno 2 caratteri
                </span> -->
            </div>
        </div>

        <!-- Email e Password (obbligatori, di cui la mail unica per il db) -->
        <div class="row py-3 border border-top-0 border-start-0 border-end-0">
            <div class="col-sm-6">
                <label class="form-label" for="email">Email Dipendente *</label>
                <input type="email" name="email" id="email" class="form-control text-center" ngModel #email="ngModel" required>
                <span class="text-info bg-transparent" *ngIf="email.invalid && (email.dirty || email.touched)">
                    Email Dipendente è OBBLIGATORIA e non deve essere già in uso nell'applicativo
                </span>
            </div>
            <div class="col-sm-6">
                <label class="form-label" for="password">Password Dipendente *</label>
                <input type="text" name="password" id="password" class="form-control text-center" ngModel #password="ngModel" required>
                <span class="text-info bg-transparent" *ngIf="password.invalid && (password.dirty || password.touched)">
                    Password Dipendente è OBBLIGATORIA
                </span>
            </div>
        </div>

        <div class="row py-3 border border-top-0 border-start-0 border-end-0">
            <div class="col-sm-4">
                <label class="form-label" for="mansioni">Mansione Dipendente *</label>
                <select name="mansioni" class="form-select" ngModel #mansioni="ngModel" required>
                    <option value=""></option>
                    <!-- <option value="ROLE_DIRETTORE">DIRETTORE</option> -->
                    <option value="ROLE_CASSIERE">CASSIERE</option>
                    <option value="ROLE_MAGAZZINIERE_BANCO">MAGAZZINIERE_BANCO</option>
                    <option value="ROLE_MAGAZZINIERE_SCAFFALE">MAGAZZINIERE_SCAFFALE</option>
                    <!-- <option value="ROLE_MANAGER">MANAGER</option>
                    <option value="ROLE_PULIZIA">PULIZIA</option>
                    <option value="ROLE_RESPONSABILE">RESPONSABILE</option> -->
                </select>
                <span class="text-info bg-transparent" *ngIf="mansioni.invalid && (mansioni.dirty || mansioni.touched)">
                    Mansione del Dipendente è OBBLIGATORIA
                </span>
            </div>
            <div class="col-sm-4">
                <label class="form-label" for="contratto">Contratto Dipendente *</label>
                <select name="contratto" class="form-select" ngModel #contratto="ngModel" required>
                    <option value=""></option>
                    <option value="TEMPO_INDETERMINATO">TEMPO_INDETERMINATO</option>
                    <!-- <option value="TEMPO_DETERMINATO">TEMPO_DETERMINATO</option>
                    <option value="APPRENDISTATO">APPRENDISTATO</option>
                    <option value="STAGE">STAGE</option>
                    <option value="CHIAMATA">CHIAMATA</option> -->
                </select>
                <span class="text-info bg-transparent" *ngIf="contratto.invalid && (contratto.dirty || contratto.touched)">
                    Contratto Dipendente è OBBLIGATORIO
                </span>
            </div>
            <div class="col-sm-4">
                <label class="form-label" for="dataInizioContratto">Data Inizio Contratto Dipendente *</label>
                <input id="dataInizioContratto" name="dataInizioContratto" type="date" class="form-control" ngModel #dataInizioContratto="ngModel" required>
                <span class="text-info bg-transparent" *ngIf="dataInizioContratto.invalid && (dataInizioContratto.dirty || dataInizioContratto.touched)">
                    La Data di inizio contratto del Dipendente è OBBLIGATORIA
                </span>
            </div>
        </div>

        <div class="d-flex justify-content-center mt-2">
            <button class="btn btn-info me-3 text-white" (click)="tornaIndietro()">Back</button>
            <button class="btn btn-info text-white" type="submit" [disabled]="newDipendente.invalid">Inserisci Dipendente</button>
        </div>
    </form>
</div>
